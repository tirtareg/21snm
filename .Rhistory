smote_nn <- train(Best.Performance ~ .,
data = latih,
trControl = Control, method = "nnet")
smote_nn
reticulate::repl_python()
import numpy as np # linear algebra
import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)
from sklearn.model_selection import cross_val_score
from sklearn.model_selection import RepeatedStratifiedKFold
from sklearn.ensemble import RandomForestClassifier, ExtraTreesClassifier
from imblearn.pipeline import Pipeline
from sklearn.model_selection import cross_val_score
import warnings
warnings.filterwarnings('ignore')
quit()
exit()
exit
update.packages(ask = F, checkBuilt = T)
library(readxl)
library(tidyverse)
path <- "G:/My Drive/# REGISTRASI DAN STATISTIK/DATA KHS/KHS.xlsx"
sheets <- excel_sheets(path)
sheets
db <- map_dfr(sheets, ~read_excel(path = path,
sheet = .x))
names(db)
dim(db)
str(db)
db %>%
group_by(Semester) %>%
summarise(mhs = n())
a <- db %>%
group_by(Semester) %>%
summarise(mhs = length(unique(NIM)))
b <- db %>%
filter(complete.cases(.)) %>%
group_by(Semester) %>%
summarise(anu = n())
left_join(a, b) %>%
mutate(no_ipk = mhs - anu)
db %>%
filter(!complete.cases(.)) %>%
group_by(Semester) %>%
summarise(anu = n())
sum(!complete.cases(db)) +
sum(complete.cases(db)) - nrow(db)
update.packages(ask = F, checkBuilt = T)
library(readxl)
library(tidyverse)
path <- "G:/My Drive/# REGISTRASI DAN STATISTIK/DATA KHS/KHS.xlsx"
sheets <- excel_sheets(path)
sheets
db <- map_dfr(sheets, ~read_excel(path = path,
sheet = .x))
names(db)
dim(db)
str(db)
db %>%
group_by(Semester) %>%
summarise(mhs = n())
a <- db %>%
group_by(Semester) %>%
summarise(mhs = length(unique(NIM)))
b <- db %>%
filter(complete.cases(.)) %>%
group_by(Semester) %>%
summarise(anu = n())
left_join(a, b) %>%
mutate(no_ipk = mhs - anu)
data.matrix(pelanggan[c("Jenis.Kelamin", "Profesi")])
#Bagian Data Preparation
pelanggan <- read.csv("https://storage.googleapis.com/dqlab-dataset/customer_segments.txt", sep="\t")
pelanggan_matrix <- data.matrix(pelanggan[c("Jenis.Kelamin", "Profesi", "Tipe.Residen")])
pelanggan <- data.frame(pelanggan, pelanggan_matrix)
Profesi <- unique(pelanggan[c("Profesi","Profesi.1")])
Jenis.Kelamin <- unique(pelanggan[c("Jenis.Kelamin","Jenis.Kelamin.1")])
Tipe.Profesi <- unique(pelanggan[c("Tipe.Residen","Tipe.Residen.1")])
pelanggan$NilaiBelanjaSetahun <- pelanggan$NilaiBelanjaSetahun/1000000
field_yang_digunakan = c("Jenis.Kelamin.1", "Umur", "Profesi.1", "Tipe.Residen.1","NilaiBelanjaSetahun")
#Membandingkan dengan 2 cluster kmeans, masing-masing 2 dan 5
set.seed(100)
kmeans(x=pelanggan[field_yang_digunakan], centers=2, nstart=25)
set.seed(100)
kmeans(x=pelanggan[field_yang_digunakan], centers=5, nstart=25)
a <- kmeans(x=pelanggan[field_yang_digunakan], centers=2, nstart=25)
a
a
a[1]
a[2]
a[3]
a[4]
a[5]
a[6]
a[7]
a[8]
a[8]
a[9]
a$centers
create name.csv
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
library(readxl)
db <- read_excel("snmptn.xlsx")
library(tidyverse)
data <- db %>%
group_by(provinsi, jk) %>%
summarize(tot = n())
data <- data %>%
pivot_wider(names_from = jk, values_from = tot)
data
data[is.na(data)] <- 0
data <- adorn_totals(data, where = "col", name = "JML")
library(janitor)
library(kableExtra)
data <- adorn_totals(data, where = "col", name = "JML")
data <- arrange(data, desc(JML))
data <- adorn_totals(data, where = "row", name = "JML")
names(data) <- c("Provinsi", "Laki-Laki", "Perempuan", "JML")
data
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data[, -1]
data
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data[, -1]
data <- adorn_totals(data,where = "row", name = "Total")
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data <- data[,c(1:5,7, 8, 6)]
data
names(data)
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data[, -1]
data <- adorn_totals(data,where = "row", name = "Total")
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data <- data[,c(1:6,8, 9, 7)]
names(data)
names(data) <- c("Fakultas/Program Studi", "Peminat", "Lulus", "% Lulus", "Ya", "Tidak", "Ya (%)", "Tidak (%)", "Diterima")
kable(data, row.names = F) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 4, "Registrasi" = 4, " " = 1)) %>%
pack_rows("Hukum", 1, 1, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Keguruan dan Ilmu Pendidikan", 2, 19, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Teknik", 20, 25, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Pertanian", 26, 29, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ekonomi dan Bisnis", 30, 33, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ilmu Sosial dan Ilmu Politik", 34, 36, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Kedokteran", 37, 39, label_row_css = "background-color: #666; color: #fff;")
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data %>%
group_by(fakultas) %>%
summarize(pendaftar = sum(pendaftar),
lulus = sum(lulus),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data
data <- adorn_totals(data, where = "row", name = "Total")
data
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data %>%
group_by(fakultas) %>%
summarize(pendaftar = sum(pendaftar),
lulus = sum(lulus),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data$fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian",
"FEB", "FISIP", "Kedokteran")
data$fakultas  <- factor(data$fakultas, levels = data[["fakultas"]])
plot_ly(data, x = ~fakultas, y = ~lulus, type = "bar", name = "Total") %>%
add_trace(y = ~sudah, name = "registrasi") %>%
add_trace(y = ~diterima, name = "diterima") %>%
layout(
title = "",
yaxis = list(title = ""),
xaxis = list(title = "Fakultas"),
hovermode = "compare"
)
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data %>%
group_by(fakultas) %>%
summarize(pendaftar = sum(pendaftar),
lulus = sum(lulus),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data$fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian",
"FEB", "FISIP", "Kedokteran")
data$fakultas  <- factor(data$fakultas, levels = data[["fakultas"]])
plot_ly(data, x = ~fakultas, y = ~lulus, type = "bar", name = "Total") %>%
add_trace(y = ~sudah, name = "registrasi") %>%
add_trace(y = ~diterima, name = "diterima") %>%
layout(
title = "",
yaxis = list(title = ""),
xaxis = list(title = "Fakultas"),
hovermode = "compare"
)
library(plotly)
library(shiny)
plot_ly(data, x = ~fakultas, y = ~lulus, type = "bar", name = "Total") %>%
add_trace(y = ~sudah, name = "registrasi") %>%
add_trace(y = ~diterima, name = "diterima") %>%
layout(
title = "",
yaxis = list(title = ""),
xaxis = list(title = "Fakultas"),
hovermode = "compare"
)
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data
data <- data %>%
group_by(fakultas) %>%
summarize(pendaftar = sum(pendaftar),
lulus = sum(lulus),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data
data$fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian",
"FEB", "FISIP", "Kedokteran")
data$fakultas  <- factor(data$fakultas, levels = data[["fakultas"]])
data
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data %>%
group_by(fakultas) %>%
summarize(pendaftar = sum(pendaftar),
lulus = sum(lulus),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data$fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian",
"FEB", "FISIP", "Kedokteran")
data$fakultas  <- factor(data$fakultas, levels = data[["fakultas"]])
data <- adorn_totals(data, where = "row", name = "Total")
data
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data
data$pers_lulus <- round(data$lulus / data$pendaftar * 100, 0)
data
data <- data[,c(1:3, 9, 4, 5, 7, 8, 6)]
names(data) <- c("Fakultas", "Peminat", "Lulus", "% Lulus","Ya", "Tidak", "Ya (%)", "Tidak (%)", "Diterima")
kable(data) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 4, "Registrasi" = 4, " " = 1))
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
pers_lulus = round(lulus/pendaftar * 100, 0),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(pendaftar = max(peminat),
lulus = n(),
sudah = sum(registrasi == "registrasi", na.rm = T),
belum = lulus - sudah,
diterima = sum(nim == "diterima", na.rm = T))
data <- data[, -1]
data <- adorn_totals(data,where = "row", name = "Total")
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data$pers_lulus <- round(data$lulus / data$pendaftar * 100, 0)
names(data)
data <- data[,c(1:3, 9, 4, 5, 7, 8, 6)]
names(data)
names(data) <- c("Fakultas/Program Studi", "Peminat", "Lulus", "% Lulus", "Ya", "Tidak", "Ya (%)", "Tidak (%)", "Diterima")
kable(data, row.names = F) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 4, "Registrasi" = 4, " " = 1)) %>%
pack_rows("Hukum", 1, 1, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Keguruan dan Ilmu Pendidikan", 2, 19, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Teknik", 20, 26, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Pertanian", 27, 30, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ekonomi dan Bisnis", 31, 34, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ilmu Sosial dan Ilmu Politik", 35, 37, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Kedokteran", 38, 41, label_row_css = "background-color: #666; color: #fff;")
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
loadfonts(dev="win")
windowsFonts()
library(extrafont)
extrafont::font_import()
library(lubridate)
glimpse(iris)
dplyr::glimpse(iris)
library(dplyr)
?lag
lag(1:5)
lag(1:5, 2)
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
library(readxl)
db <- read_excel("snmptn.xlsx")
names(db)
data <- db %>%
select(provinsi, kota_sklh, nama_sklh, registrasi)
library(tidyverse)
data <- db %>%
select(provinsi, kota_sklh, nama_sklh, registrasi)
data
ifna
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n())
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n()) %>%
arrange(desc(lulus))
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n()) %>%
arrange(lulus)
data
filter(data, nama_sekolah == contains("PAMARAYAN"))
filter(data, nama_sekolah == "SMAN 1 PAMARAYAN")
filter(data, nama_sklhh == "SMAN 1 PAMARAYAN")
filter(data, nama_sklh == "SMAN 1 PAMARAYAN")
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n(),
registrasi = sum(registrasi = "registrasi"))
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n(),
registrasi = sum(registrasi == "registrasi"))
data
sum(data$registrasi == "registrasi")
sum(5 > 4)
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n(),
registrasi = registrasi == "registrasi")
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
summarise(lulus = n(),
registrasi = ifelse(registrasi == "registrasi", 1, 0))
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = ifelse(registrasi == "registrasi", 1, 0))
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = ifelse(registrasi == "registrasi", 1, 0)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi))
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = ifelse(registrasi == "registrasi", 1, 0))
View(data)
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = ifelse(registrasi == NA, 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi))
data
data <- db
data$reg <- ifelse(data$registrasi=="registrasi", 1, 0)
summary(data$reg)
?replace_na
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"))
table(data$registrasi)
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi)
data
sum(data$registrasi)
sum(data$belum)
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi,
pers_blm = round(belum / lulus * 100, 0))
data
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi,
pers_blm = round(belum / lulus * 100, 0)) %>%
arrange(-pers_blm)
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi,
pers_blm = round(belum / lulus * 100, 0)) %>%
arrange(-belum)
data
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi) %>%
arrange(-belum)
data
setwd("G:/My Drive/#PMB/2021/01_SNMPTN/21snm")
db <- read_excel("snmptn.xlsx")
library(readxl)
library(tidyverse)
db <- read_excel("snmptn.xlsx")
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi) %>%
filter(belum == 0) %>%
arrange(-sudah)
data <- db %>%
group_by(nama_sklh, kota_sklh, provinsi) %>%
mutate(registrasi = replace_na(registrasi, "blm"),
registrasi = ifelse(registrasi == "blm", 0, 1)) %>%
summarise(lulus = n(),
registrasi = sum(registrasi),
belum = lulus - registrasi) %>%
filter(belum == 0) %>%
arrange(-registrasi)
data
